#!/usr/bin/env bash

## Description: Run the yarn/webpack/gulp build.

# currentDirectory
# themesDirectory
# pluginsDirectory
# childThemes
# SITE_NAME
# SITE_TITLE
# NODE_VER

#export scriptRoot=$(cd "${BASH_SOURCE%/*}" && pwd)
#source $scriptRoot/.utilities
#addGitHook() {
#  if [ -d .git ]; then
#    if [ ! -f .git/hooks/pre-commit ]; then
#      mkdir -p .git/hooks
#      touch .git/hooks/pre-commit
#      chmod +x .git/hooks/pre-commit
#    fi
#    cat <<EOT >.git/hooks/pre-commit
##!/usr/bin/env bash
#
#list=\$(git diff --cached --name-only --diff-filter=ACM)
#if [[ "\$list" == *".scss"* ]] || [[ "\$list" == *".js"* ]]; then
#  if command -v ddev >/dev/null 2>&1 && ddev exec pwd >/dev/null 2>&1; then
#    echo "Applying formatting..."
#    ddev yarn-lint >/dev/null 2>&1
#    ddev mutagen sync
#    for fname in \$list; do
#        git add -A "\${fname}"
#    done
#  fi
#fi
#EOT
#  fi
#}
#
#export scriptRoot=$(cd "${BASH_SOURCE%/*}" && pwd)
#source $scriptRoot/.utilities
#
#for buildDir in $buildDirs; do
#  cd ${buildDir}
#  yarn lint:fix
#done
#
#cd "${currentDirectory}"
#
#addGitHook
